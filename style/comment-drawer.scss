body {
  display: flex;
}

.tool-bar {
  display: flex;
  flex-flow: row wrap;
}

.tool-bar>*:not(:last-child) {
  margin-right: 0.25em;
}

.comment-canvas {
  /* TODO: Add small padding around canvas, so you can actually fill in pixels at the corners and edges */
  padding: 0rem;
}

#comment-drawer {
  position: relative;
  display: inline-flex;
  flex-flow: column nowrap;
  background-color: rgba(0, 0, 0, 0.05);
  border-radius: 1rem;
  padding: 1rem;
  margin: 1rem auto;
}

#comment-drawer>*:not(:last-child) {
  margin-bottom: 0.5em;
}

#comment-board {
  display: flex;
}

.row-button-group {
  display: flex;
  flex-direction: row nowrap;
}

.row-button-group .row-multi-button:first-child .row-button-label,
.row-button-group .row-button:first-child {
  border-top-left-radius: 0.4em;
  border-bottom-left-radius: 0.4em;
}

.row-button-group .row-multi-button:last-child .row-button-label,
.row-button-group .row-button:last-child {
  border-top-right-radius: 0.4em;
  border-bottom-right-radius: 0.4em;
}

.row-button-group .row-multi-button:not(:last-child) .row-button-label,
.row-button-group .row-button:not(:last-child) {
  border-right: none;
}

.row-multi-button {
  display: inline-block;
}

.row-button,
.row-button-label {
  display: inline-flex;
  padding: 0.4em 0.6em;
  border: 1px solid black;
  background-color: rgba(0, 0, 0, 0.05);
  user-select: none;
}

.row-button:hover:not([disabled]),
.row-button-label:hover:not([disabled]) {
  background-color: white;
}

.row-button:active:not([disabled]),
.row-button-label:active:not([disabled]) {
  background-color: rgba(0, 0, 0, 0.1);
}

.row-button[disabled] {
  opacity: 0.2;
}

.positive-button {
  background-color: rgb(134, 244, 154);
}

.positive-button:hover {
  background-color: rgb(196, 251, 206);
}

.positive-button:active {
  background-color: rgb(79, 235, 108);
}

.negative-button {
  background-color: rgb(255, 161, 161);
}

.negative-button:hover {
  background-color: rgb(251, 196, 196);
}

.negative-button:active {
  background-color: rgb(255, 128, 128);
}

.at-end {
  margin-left: auto;
}

.row-button-radio {
  display: none;
}

.row-button-radio:checked+.row-button-label {
  background: #ffcc00;
}

.row-button-radio+* .row-button-icon {
  opacity: 0.3;
}

.row-button-radio:checked+* .row-button-icon {
  opacity: 1;
}

.row-button-text {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  border: 0;
  clip: rect(0, 0, 0, 0);
  overflow: hidden;
  white-space: nowrap;
}

.row-button-icon {
  width: 16px;
  height: 16px;
  image-rendering: pixelated;
  background-image: url("/media/tools/comment-drawer-icons.png");
  background-size: 128px 80px;
  display: inline-block;
}

.bi-scale-1 {
  font-size: 1rem;
}

.bi-scale-2 {
  font-size: 2rem;
}

.bi-scale-3 {
  font-size: 3rem;
}

.bi-scale-4 {
  font-size: 4rem;
}

.bi-scale-5 {
  font-size: 5rem;
}

.bi-scale-1 .row-button-icon {
  width: 16px;
  height: 16px;
  background-size: 128px 80px;
}

.bi-scale-2 .row-button-icon {
  width: 32px;
  height: 32px;
  background-size: 256px 160px;
}

.bi-scale-3 .row-button-icon {
  width: 48px;
  height: 48px;
  background-size: 384px 240px;
}

.bi-scale-4 .row-button-icon {
  width: 64px;
  height: 64px;
  background-size: 512px 320px;
}

.bi-scale-5 .row-button-icon {
  width: 80px;
  height: 80px;
  background-size: 640px 400px;
}

$sprites: (
  ("pen-1", 0, 0, 7, 4),
  ("pen-2", 1, 0, 7, 4),
  ("pen-3", 2, 0, 7, 4),
  ("pen-4", 3, 0, 7, 4),
  ("pen-5", 4, 0, 7, 4),
  ("pen-6", 5, 0, 7, 4),

  ("eraser-1", 0, 1, 7, 4),
  ("eraser-2", 1, 1, 7, 4),
  ("eraser-3", 2, 1, 7, 4),
  ("eraser-4", 3, 1, 7, 4),
  ("eraser-5", 4, 1, 7, 4),
  ("eraser-6", 5, 1, 7, 4),

  ("pattern-1", 0, 2, 7, 4),
  ("pattern-2", 1, 2, 7, 4),
  ("pattern-3", 2, 2, 7, 4),
  ("pattern-4", 3, 2, 7, 4),
  ("backward", 4, 2, 7, 4),
  ("forward", 5, 2, 7, 4),
  ("about", 6, 2, 7, 4),

  ("undo", 0, 3, 7, 4),
  ("redo", 1, 3, 7, 4),
  ("save", 2, 3, 7, 4),
  ("play", 3, 3, 7, 4),
  ("accept", 4, 3, 7, 4),
  ("deny", 5, 3, 7, 4),
  ("submit", 6, 3, 7, 4),
  ("clear", 7, 3, 7, 4),

  ("undo-inactive", 0, 4, 7, 4),
  ("redo-inactive", 1, 4, 7, 4),
  ("save-inactive", 2, 4, 7, 4),
  ("play-inactive", 3, 4, 7, 4),
  ("accept-inactive", 4, 4, 7, 4),
  ("deny-inactive", 5, 4, 7, 4),
  ("submit-inactive", 6, 4, 7, 4),
  ("clear-inactive", 7, 4, 7, 4),
);

@mixin sprite-class($name, $x, $y, $width, $height) {
  .bi-#{$name} {
    background-position: calc(#{$x} / #{$width} * 100%) calc(#{$y} / #{$height} * 100%);
  }
}

@each $sprite in $sprites {
  $name: nth($sprite, 1);
  $x: nth($sprite, 2);
  $y: nth($sprite, 3);
  $width: nth($sprite, 4);
  $height: nth($sprite, 5);
  @include sprite-class($name, $x, $y, $width, $height);
}
