<!DOCTYPE html>
<html>
<head>
  <title>Canvas Upload</title>
</head>
<body>
  <canvas id="myCanvas" width="300" height="150" style="border:1px solid #000;"></canvas>
  <br>
  <input type="text" id="username" placeholder="Username" required>
  <input type="text" id="website" placeholder="Website">
  <input type="hidden" id="secret" value="mySecret">
  <input type="hidden" id="passphrase" value="myPass">
  <button onclick="submitCanvas()">Submit</button>

  <script>
    function submitCanvas() {
      const canvas = document.getElementById('myCanvas');
      const dataURL = canvas.toDataURL('image/png');

      const formData = new FormData();
      formData.append('image', dataURL);
      formData.append('username', document.getElementById('username').value);
      formData.append('website', document.getElementById('website').value);
      formData.append('secret', document.getElementById('secret').value);
      formData.append('passphrase', document.getElementById('passphrase').value);

      fetch('upload.php', {
        method: 'POST',
        body: formData
      })
      .then(response => response.text())
      .then(result => alert(result))
      .catch(error => console.error('Error:', error));
    }
  </script>
</body>
</html>
